{
  "url": "https://api.github.com/repos/lerna/lerna/issues/454",
  "repository_url": "https://api.github.com/repos/lerna/lerna",
  "labels_url": "https://api.github.com/repos/lerna/lerna/issues/454/labels{/name}",
  "comments_url": "https://api.github.com/repos/lerna/lerna/issues/454/comments",
  "events_url": "https://api.github.com/repos/lerna/lerna/issues/454/events",
  "html_url": "https://github.com/lerna/lerna/pull/454",
  "id": 196304676,
  "number": 454,
  "title": "Use close event to wait for spawned processes to finish",
  "user": {
    "login": "xaka",
    "id": 504813,
    "avatar_url": "https://avatars.githubusercontent.com/u/504813?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xaka",
    "html_url": "https://github.com/xaka",
    "followers_url": "https://api.github.com/users/xaka/followers",
    "following_url": "https://api.github.com/users/xaka/following{/other_user}",
    "gists_url": "https://api.github.com/users/xaka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xaka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xaka/subscriptions",
    "organizations_url": "https://api.github.com/users/xaka/orgs",
    "repos_url": "https://api.github.com/users/xaka/repos",
    "events_url": "https://api.github.com/users/xaka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xaka/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 295312270,
      "url": "https://api.github.com/repos/lerna/lerna/labels/Tag:%20Bug%20Fix",
      "name": "Tag: Bug Fix",
      "color": "fc2929",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2016-12-18T22:48:02Z",
  "updated_at": "2017-01-05T23:46:10Z",
  "closed_at": "2017-01-05T23:46:10Z",
  "pull_request": {
    "url": "https://api.github.com/repos/lerna/lerna/pulls/454",
    "html_url": "https://github.com/lerna/lerna/pull/454",
    "diff_url": "https://github.com/lerna/lerna/pull/454.diff",
    "patch_url": "https://github.com/lerna/lerna/pull/454.patch"
  },
  "body": "As per https://nodejs.org/api/child_process.html#child_process_event_close, the close event is emitted when the stdio streams of a child process have been closed, which is important as there is a chance for race condition when process has exited (process's exit event), but collecting  stderr hasn't been finished yet (stderr stream's done event). Using close event seems to be pretty common if you look at implementations of child_process.exec, grunt.utils.spawn, etc.",
  "closed_by": {
    "login": "gigabo",
    "id": 115908,
    "avatar_url": "https://avatars.githubusercontent.com/u/115908?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gigabo",
    "html_url": "https://github.com/gigabo",
    "followers_url": "https://api.github.com/users/gigabo/followers",
    "following_url": "https://api.github.com/users/gigabo/following{/other_user}",
    "gists_url": "https://api.github.com/users/gigabo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gigabo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gigabo/subscriptions",
    "organizations_url": "https://api.github.com/users/gigabo/orgs",
    "repos_url": "https://api.github.com/users/gigabo/repos",
    "events_url": "https://api.github.com/users/gigabo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gigabo/received_events",
    "type": "User",
    "site_admin": false
  }
}